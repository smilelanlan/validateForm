{
  "name": "Validateform",
  "tagline": "表单验证组件",
  "body": "> # 表单验证组件\r\n>\r\n\r\n表单验证组件\r\n\r\n## 基本用法\r\n\r\nhtml代码\r\n\r\n```\r\n<form id=\"myform\" method=\"post\">\r\n    <p>\r\n        <label for=\"email\">E-Mail：</label>\r\n        <input id=\"email\" name=\"email\" />\r\n    </p>\r\n    <p>\r\n        <input class=\"submitbtn\" type=\"submit\" value=\"立即注册\" />\r\n    </p>\r\n</form>\r\n\r\n<script src=\"http://libs.baidu.com/jquery/1.11.3/jquery.min.js\"></script>\r\n<script src=\"dist/validateForm.js\"></script>\r\n```\r\n\r\njs代码\r\n\r\n```\r\n$(function(){\r\n\t//创建实例\r\n    var myform = new ValidateForm({\r\n        wrap: '#myform',\r\n        rules:{\r\n            email:{\r\n                required: true,\r\n                reg: \"email\"\r\n            }\r\n        },\r\n        msg: {\r\n            email: {\r\n                required: \"邮箱不能为空\",\r\n                reg: \"邮箱格式不正确\"\r\n            }\r\n        },\r\n        validFieldSuc:function(value,ele){\r\n                var $parent=$(ele).parents(\"p\");\r\n                var $tip=$parent.find(\".tip\");\r\n                if($tip.length<1){\r\n                    $tip=$('<span class=\"tip\"></span>');\r\n                    $parent.append($tip);\r\n                }\r\n                $tip.html(\"验证通过\").css({\"color\":\"green\"});\r\n\r\n         },\r\n         validFieldFail:function(str,ele){\r\n                var $parent=$(ele).parents(\"p\");\r\n                var $tip=$parent.find(\".tip\");\r\n                if($tip.length<1){\r\n                    $tip=$('<span class=\"tip\"></span>');\r\n                    $parent.append($tip);\r\n                }\r\n                $tip.html(str).css({\"color\":\"red\"});\r\n       \t }\r\n    })\r\n\r\n    $(\".submitbtn\").on(\"click\",function(e){\r\n        if (e.preventDefault) {\r\n            e.preventDefault();\r\n        } else {\r\n            e.returnValue = false;\r\n        }\r\n        //调用表单验证方法，参数是一个对象，在cb上可自定义表单验证的回调函数\r\n        myform.valid({\r\n            cb:function (result) {\r\n                if(result.status){\r\n                    console.log(\"表单验证通过\",result.data);\r\n                }else{\r\n                    console.log(\"表单验证失败\",result.msg);\r\n                }\r\n            }\r\n        })\r\n    })\r\n})\r\n```\r\n\r\n## 创建实例的option选项\r\n\r\n* wrap : form表单的外部容器，值为css 选择器\r\n\r\n* rules : 表单验证规则，值为对象，对象的属性是表单元素的name值，对象属性的值还是一个对象\r\n  + required:该表单元素是否为必填项，值为布尔值\r\n\r\n  + reg:该表单字段的验证规则，值可为字符串、正则、自定义函数\r\n    + 字符串:\r\n\r\n      1. 内置校验规则：该组件内置的验证规有chinaChar（是否是汉字）、cardId（身份证验证）、phone（固定电话）、mobile（手机）、password（用户名）、email（邮箱）、num（是否为数字）、qq（qq号）、weixin（微信号）、empty（是否为空）可以直接使用\r\n\r\n         ```\r\n         <p>\r\n           <label for=\"email\">E-Mail：</label>\r\n           <input id=\"email\" name=\"email\" />\r\n         </p>\r\n\r\n          rules:{\r\n            email:{\r\n              required: true,\r\n              reg: \"email\"\r\n            }\r\n          }\r\n         ```\r\n\r\n         ​\r\n\r\n      2. 添加自定义校验规则: 调用函数的addRule方法，来扩充校验规则，addRule方法的第一参数是新的校验规则名称，第二个参数是函数，函数的参数是表单元素的值，返回值为true或者false\r\n\r\n         ```\r\n         <p>\r\n           <label for=\"myname\">用户名：</label>\r\n           <input id=\"myname\" name=\"myname\" />\r\n         </p>\r\n         //添加新的校验规则，用户名已chr开头\r\n          ValidateForm.addRule(\"chrName\",function(v){\r\n            if(!v)return false;\r\n              var reg=/^chr/;\r\n              if(reg.test(v)){\r\n              return true;\r\n            }else{\r\n            \treturn false;\r\n            }\r\n          });\r\n          \r\n          rules: {\r\n            myname: {\r\n              required: true,\r\n              reg:\"chrName\"\r\n            }\r\n          }\r\n         ```\r\n\r\n    + 正则：值可以为正则表达式\r\n\r\n      ```\r\n       <p>\r\n         <label for=\"phone\">手机号：</label>\r\n         <input id=\"phone\" name=\"phone\" />\r\n       </p>\r\n       \r\n       rules:{\r\n          phone: {\r\n           required: true,\r\n           reg:/^1[3-9][0-9]\\d{8}$/\r\n         }\r\n       }\r\n      ```\r\n\r\n    + 自定义函数:可自定义函数验证表单元素,函数的一个参数是当前表单元素的值,函数的返回值为true后者false\r\n\r\n      ```\r\n      <p>\r\n        <label for=\"experience\">工作经历：</label>\r\n        <textarea name=\"experience\" id=\"experience\" cols=\"30\" rows=\"10\"></textarea>\r\n      </p>\r\n\r\n      rules:{\r\n        experience:{\r\n          required: true,\r\n          reg: function(v){\r\n            if(v.length>5){\r\n            \treturn true;\r\n            }else{\r\n            \treturn false;\r\n            }\r\n          }\r\n        }\r\n      }\r\n      ```\r\n\r\n  + minLength: 当表单元素为复选框时，可设置最少选择个数 \r\n\r\n  + maxLength:当表单元素为复选框时，可设置最多选择个数\r\n\r\n    ```\r\n    <p>\r\n      <span>爱好：</span>\r\n      <label for=\"hobby_read\">读书</label>\r\n      <input type=\"checkbox\" id=\"hobby_read\" value=\"read\" name=\"hobby\"/>\r\n      <label for=\"hobby_write\">写作</label>\r\n      <input type=\"checkbox\" id=\"hobby_write\" value=\"write\" name=\"hobby\" />\r\n      <label for=\"hobby_sing\">唱歌</label>\r\n      <input type=\"checkbox\" id=\"hobby_sing\" value=\"sing\" name=\"hobby\" />\r\n      <label for=\"hobby_dance\">唱歌</label>\r\n      <input type=\"checkbox\" id=\"hobby_dance\" value=\"sing\" name=\"hobby\" />\r\n    </p>\r\n\r\n    //最少选择两个，最多选择3个\r\n    rules:{\r\n      hobby: {\r\n        required: true,\r\n        minLength:2,\r\n        maxLength:3\r\n      }\r\n    }\r\n\r\n    ```\r\n\r\n* msg:配置表单元素验证结果的提示文案和回调函数，值为对象，对象的属性是表单元素的name值，对象属性的值还是一个对象\r\n\r\n  + required:该表单元素值为空的提示文案，值为字符串\r\n\r\n  + reg:该表单元素正则校验失败的提示文案\r\n\r\n  + sucCb:该表单元素校验成功的回调，第一个参数为值，第二个参数为当前元素\r\n\r\n  + failCb:该表单元素校验失败的回调，第一个参数为失败原因，第二个参数为当元素\r\n\r\n    ```\r\n    msg:{\r\n      email: {\r\n        required: \"邮箱不能为空\",\r\n        reg: \"邮箱格式不正确\",\r\n        sucCb:function(value,ele){\r\n          var $parent=$(ele).parents(\"p\");\r\n          var $icon=$parent.find(\".icon\");\r\n          if($icon.length<1){\r\n            $icon=$('<span class=\"icon\"></span>');\r\n            $parent.append($icon);\r\n          }\r\n          $icon.html(\"v\").css({\"color\":\"green\"});\r\n        },\r\n        failCb:function(str,ele){\r\n          var $parent=$(ele).parents(\"p\");\r\n          var $icon=$parent.find(\".icon\");\r\n          if($icon.length<1){\r\n            $icon=$('<span class=\"icon\"></span>');\r\n            $parent.append($icon);\r\n          }\r\n          $icon.html(\"x\").css({\"color\":\"red\"});\r\n        }\r\n      }\r\n    }\r\n    ```\r\n\r\n    ​\r\n\r\n* validFieldSuc:通用表单元素校验成功回调，第一个参数为值，第二个参数为当前元素\r\n\r\n* validfieldfail:通用表单元素校验失败回调，第一个参数为失败原因，第二个参数为当前元素\r\n\r\n* onblur:是否为表单元素添加blur事件，值为true或者 false,默认为true\r\n\r\n* onkeyup:是否为元素点击keyup事件，值为true后者 false,默认为false\r\n\r\n\r\n\r\n## 方法\r\n\r\n1. 实例方法\r\n\r\n   + valid(opt)\r\n\r\n     表单提交之前，校验所有表单元素的值是否合法，opt是个对象\r\n\r\n     + cb:表单校验结束的回调，参数是对象\r\n\r\n       ```\r\n       {\r\n         status:true,//值为true/false 校验成功或者失败\r\n         data:{email:\"1182661260@qq.com\",name:\"lilanlan\"},//校验成功，表单提交的数据\r\n         msg:\"邮箱格式不正确\"//校验失败，失败的原因\r\n       }\r\n       ```\r\n\r\n     + ignore:忽略校验的元素，值为忽略校验元素name的值\r\n\r\n     ```\r\n      var myform = new ValidateForm({...});\r\n     myform.valid({\r\n       ignore:\"experience\",\r\n       cb:function (result) {\r\n         if(result.status){\r\n           \tconsole.log(\"表单验证通过\",result.data);\r\n         }else{\r\n           \tconsole.log(\"表单验证失败\",result.msg);\r\n         }\r\n       }\r\n     })\r\n     ```\r\n\r\n   + checkEle(ele)\r\n\r\n     校验当个输入框的值是否合法，参数为表单元素的css选择器,返回值 是个对象\r\n\r\n     ````\r\n     {\r\n      status:true,//值为true/false 校验成功或者失败\r\n      value:\"我是一名前端开发人员\",//校验成功，当前输入框的值\r\n      msg:\"不能少于5个值\"，//校验失败，失败的原因\r\n     }\r\n     ````\r\n\r\n     ```\r\n     var myform = new ValidateForm({...});\r\n     myform.checkEle(\"#experience\");\r\n     ```\r\n\r\n   + checkRadioCheckbox(name)\r\n\r\n     校验单选按钮或者多选框是否合法，参数为表单元素name的值，返回值是对象,同上\r\n\r\n     ```\r\n     var myform = new ValidateForm({...});\r\n     console.log(myform.checkRadioCheckbox(\"hobby\"))\r\n\r\n     //输出的值为\r\n     {\r\n     \tstatus:true,//校验是否成功\r\n     \tvalue:['sing','dance']//校验成功，元素的值\r\n     }\r\n     ```\r\n\r\n     ​\r\n\r\n2. 函数方法\r\n\r\n+ ValidateForm.addRule(name,fn)\r\n\r\n  添加自定义校验规则,第一参数是新的校验规则名称，第二个参数是函数，函数的参数是表单元素的值，返回值为true或者false\r\n\r\n  ```\r\n  //添加新的校验规则，用户名已chr开头\r\n   ValidateForm.addRule(\"chrName\",function(v){\r\n     if(!v)return false;\r\n       var reg=/^chr/;\r\n       if(reg.test(v)){\r\n       return true;\r\n     }else{\r\n     \treturn false;\r\n     }\r\n   });\r\n  ```\r\n\r\n  ​\r\n\r\n  ​\r\n\r\n",
  "note": "Don't delete this file! It's used internally to help with page regeneration."
}